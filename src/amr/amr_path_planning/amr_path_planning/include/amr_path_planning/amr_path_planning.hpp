/*
 Copyright 2025 Author lio

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      https://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */

#ifndef AMR_PATH_PLANNING__AMR_PATH_PLANNING_HPP_
#define AMR_PATH_PLANNING__AMR_PATH_PLANNING_HPP_

#include <vector>
#include "rclcpp/rclcpp.hpp"
#include "spdlog/spdlog.h"
#include "amr_msgs/srv/a_star.hpp"
#include "amr_msgs/msg/points.hpp"
#include "amr_msgs/msg/amr_state.hpp"
#include "amr_msgs/msg/task_point.hpp"

namespace amr_path_planning
{
class AmrPathPlanning : public rclcpp::Node
{
public:
    AmrPathPlanning();
    ~AmrPathPlanning();

private:
    static constexpr int NUM_AMR = 10;
    // Path Points publisher
    std::vector<amr_msgs::msg::Points> points_;
    std::vector<rclcpp::Publisher<amr_msgs::msg::Points>::SharedPtr> points_pubs_;

    // 机器人状态订阅
    std::vector<amr_msgs::msg::AmrState> amr_states_;
    std::vector<rclcpp::Subscription<amr_msgs::msg::AmrState>::SharedPtr> amr_states_subs_;
    void amr_states_subs_callback(const amr_msgs::msg::AmrState::SharedPtr msg, int amr_id);
    
    // 调用a star 算法计算最短路径
    std::vector<rclcpp::Client<amr_msgs::srv::AStar>::SharedPtr> a_star_cli_;
    using ServiceResponseFuture = rclcpp::Client<amr_msgs::srv::AStar>::SharedFuture;
    void a_star_cli_callback(ServiceResponseFuture future, int amr_id);

    void send_points_to_motion(int amr_id, amr_msgs::msg::Points points);

    // 规划任务接收
    void task_sub_callback(const amr_msgs::msg::TaskPoint::SharedPtr msg);
    rclcpp::Subscription<amr_msgs::msg::TaskPoint>::SharedPtr task_sub_;

    // 单元测试
    rclcpp::TimerBase::SharedPtr unit_test_timer_;
    void unit_test_timer_callback();

private:
    struct Point {
        double x;
        double y;
    };
    std::vector<Point> free_points_;
    // points
    std::vector<Point> path_points_ = {
        // 第一象限
        {1.0, 1.0}, {1.0, 2.0}, {1.0, 3.0}, {1.0, 4.0}, {1.0, 5.0}, {1.0, 6.0}, {1.0, 7.0}, {1.0, 8.0}, {1.0, 9.0}, {1.0, 10.0}, {1.0, 11.0}, {1.0, 12.0}, {1.0, 13.0}, {1.0, 14.0}, {1.0, 15.0}, {1.0, 16.0}, {1.0, 17.0}, {1.0, 18.0}, {1.0, 19.0}, {1.0, 20.0},
        {2.0, 1.0}, {2.0, 8.0}, {2.0, 10.0}, {2.0, 17.0}, {2.0, 19.0},
        {3.0, 1.0}, {3.0, 2.0}, {3.0, 7.0}, {3.0, 8.0}, {3.0, 10.0}, {3.0, 11.0}, {3.0, 16.0}, {3.0, 17.0}, {3.0, 18.0}, {3.0, 19.0}, {3.0, 20.0},
        {4.0, 1.0}, {4.0, 8.0}, {4.0, 10.0}, {4.0, 17.0}, {4.0, 19.0},
        {5.0, 1.0}, {5.0, 2.0}, {5.0, 7.0}, {5.0, 8.0}, {5.0, 10.0}, {5.0, 11.0}, {5.0, 16.0}, {5.0, 17.0}, {5.0, 18.0}, {5.0, 19.0}, {5.0, 20.0},
        {6.0, 1.0}, {6.0, 8.0}, {6.0, 10.0}, {6.0, 17.0}, {6.0, 19.0},
        {7.0, 1.0}, {7.0, 2.0}, {7.0, 7.0}, {7.0, 8.0}, {7.0, 10.0}, {7.0, 11.0}, {7.0, 16.0}, {7.0, 17.0}, {7.0, 18.0}, {7.0, 19.0}, {7.0, 20.0},
        {8.0, 1.0}, {8.0, 8.0}, {8.0, 10.0}, {8.0, 17.0}, {8.0, 19.0},
        {9.0, 1.0}, {9.0, 2.0}, {9.0, 7.0}, {9.0, 8.0}, {9.0, 10.0}, {9.0, 11.0}, {9.0, 16.0}, {9.0, 17.0}, {9.0, 18.0}, {9.0, 19.0}, {9.0, 20.0},
        {10.0, 1.0}, {10.0, 8.0}, {10.0, 10.0}, {10.0, 17.0}, {10.0, 19.0},
        {11.0, 1.0}, {11.0, 2.0}, {11.0, 3.0}, {11.0, 4.0}, {11.0, 5.0}, {11.0, 6.0}, {11.0, 7.0}, {11.0, 8.0}, {11.0, 9.0}, {11.0, 10.0}, {11.0, 11.0}, {11.0, 12.0}, {11.0, 13.0}, {11.0, 14.0}, {11.0, 15.0}, {11.0, 16.0}, {11.0, 17.0}, {11.0, 18.0}, {11.0, 19.0},
        {12.0, 1.0}, {12.0, 8.0}, {12.0, 10.0}, {12.0, 17.0}, {12.0, 19.0},
        {13.0, 1.0}, {13.0, 2.0}, {13.0, 3.0}, {13.0, 4.0}, {13.0, 5.0}, {13.0, 6.0}, {13.0, 7.0}, {13.0, 8.0}, {13.0, 9.0}, {13.0, 10.0}, {13.0, 11.0}, {13.0, 12.0}, {13.0, 13.0}, {13.0, 14.0}, {13.0, 15.0}, {13.0, 16.0}, {13.0, 17.0}, {13.0, 18.0}, {13.0, 19.0},
        // 第二象限
        {-1.0, 1.0}, {-1.0, 2.0}, {-1.0, 3.0}, {-1.0, 4.0}, {-1.0, 5.0}, {-1.0, 6.0}, {-1.0, 7.0}, {-1.0, 8.0}, {-1.0, 9.0}, {-1.0, 10.0}, {-1.0, 11.0}, {-1.0, 12.0}, {-1.0, 13.0}, {-1.0, 14.0}, {-1.0, 15.0}, {-1.0, 16.0}, {-1.0, 17.0}, {-1.0, 18.0}, {-1.0, 19.0}, {-1.0, 20.0},
        {-2.0, 1.0}, {-2.0, 8.0}, {-2.0, 10.0}, {-2.0, 17.0}, {-2.0, 19.0},
        {-3.0, 1.0}, {-3.0, 2.0}, {-3.0, 7.0}, {-3.0, 8.0}, {-3.0, 10.0}, {-3.0, 11.0}, {-3.0, 16.0}, {-3.0, 17.0}, {-3.0, 18.0}, {-3.0, 19.0}, {-3.0, 20.0},
        {-4.0, 1.0}, {-4.0, 8.0}, {-4.0, 10.0}, {-4.0, 17.0}, {-4.0, 19.0},
        {-5.0, 1.0}, {-5.0, 2.0}, {-5.0, 7.0}, {-5.0, 8.0}, {-5.0, 10.0}, {-5.0, 11.0}, {-5.0, 16.0}, {-5.0, 17.0}, {-5.0, 18.0}, {-5.0, 19.0}, {-5.0, 20.0},
        {-6.0, 1.0}, {-6.0, 8.0}, {-6.0, 10.0}, {-6.0, 17.0}, {-6.0, 19.0},
        {-7.0, 1.0}, {-7.0, 2.0}, {-7.0, 7.0}, {-7.0, 8.0}, {-7.0, 10.0}, {-7.0, 11.0}, {-7.0, 16.0}, {-7.0, 17.0}, {-7.0, 18.0}, {-7.0, 19.0}, {-7.0, 20.0},
        {-8.0, 1.0}, {-8.0, 8.0}, {-8.0, 10.0}, {-8.0, 17.0}, {-8.0, 19.0},
        {-9.0, 1.0}, {-9.0, 2.0}, {-9.0, 7.0}, {-9.0, 8.0}, {-9.0, 10.0}, {-9.0, 11.0}, {-9.0, 16.0}, {-9.0, 17.0}, {-9.0, 18.0}, {-9.0, 19.0}, {-9.0, 20.0},
        {-10.0, 1.0}, {-10.0, 8.0}, {-10.0, 10.0}, {-10.0, 17.0}, {-10.0, 19.0},
        {-11.0, 1.0}, {-11.0, 2.0}, {-11.0, 3.0}, {-11.0, 4.0}, {-11.0, 5.0}, {-11.0, 6.0}, {-11.0, 7.0}, {-11.0, 8.0}, {-11.0, 9.0}, {-11.0, 10.0}, {-11.0, 11.0}, {-11.0, 12.0}, {-11.0, 13.0}, {-11.0, 14.0}, {-11.0, 15.0}, {-11.0, 16.0}, {-11.0, 17.0}, {-11.0, 18.0}, {-11.0, 19.0},
        {-12.0, 1.0}, {-12.0, 8.0}, {-12.0, 10.0}, {-12.0, 17.0}, {-12.0, 19.0},
        {-13.0, 1.0}, {-13.0, 2.0}, {-13.0, 3.0}, {-13.0, 4.0}, {-13.0, 5.0}, {-13.0, 6.0}, {-13.0, 7.0}, {-13.0, 8.0}, {-13.0, 9.0}, {-13.0, 10.0}, {-13.0, 11.0}, {-13.0, 12.0}, {-13.0, 13.0}, {-13.0, 14.0}, {-13.0, 15.0}, {-13.0, 16.0}, {-13.0, 17.0}, {-13.0, 18.0}, {-13.0, 19.0},
        // 第三象限
        {-1.0, -1.0}, {-1.0, -2.0}, {-1.0, -3.0}, {-1.0, -4.0}, {-1.0, -5.0}, {-1.0, -6.0}, {-1.0, -7.0}, {-1.0, -8.0}, {-1.0, -9.0}, {-1.0, -10.0}, {-1.0, -11.0}, {-1.0, -12.0}, {-1.0, -13.0}, {-1.0, -14.0}, {-1.0, -15.0}, {-1.0, -16.0}, {-1.0, -17.0}, {-1.0, -18.0}, {-1.0, -19.0}, {-1.0, -20.0},
        {-2.0, -1.0}, {-2.0, -8.0}, {-2.0, -10.0}, {-2.0, -17.0}, {-2.0, -19.0},
        {-3.0, -1.0}, {-3.0, -2.0}, {-3.0, -7.0}, {-3.0, -8.0}, {-3.0, -10.0}, {-3.0, -11.0}, {-3.0, -16.0}, {-3.0, -17.0}, {-3.0, -18.0}, {-3.0, -19.0}, {-3.0, -20.0},
        {-4.0, -1.0}, {-4.0, -8.0}, {-4.0, -10.0}, {-4.0, -17.0}, {-4.0, -19.0},
        {-5.0, -1.0}, {-5.0, -2.0}, {-5.0, -7.0}, {-5.0, -8.0}, {-5.0, -10.0}, {-5.0, -11.0}, {-5.0, -16.0}, {-5.0, -17.0}, {-5.0, -18.0}, {-5.0, -19.0}, {-5.0, -20.0},
        {-6.0, -1.0}, {-6.0, -8.0}, {-6.0, -10.0}, {-6.0, -17.0}, {-6.0, -19.0},
        {-7.0, -1.0}, {-7.0, -2.0}, {-7.0, -7.0}, {-7.0, -8.0}, {-7.0, -10.0}, {-7.0, -11.0}, {-7.0, -16.0}, {-7.0, -17.0}, {-7.0, -18.0}, {-7.0, -19.0}, {-7.0, -20.0},
        {-8.0, -1.0}, {-8.0, -8.0}, {-8.0, -10.0}, {-8.0, -17.0}, {-8.0, -19.0},
        {-9.0, -1.0}, {-9.0, -2.0}, {-9.0, -7.0}, {-9.0, -8.0}, {-9.0, -10.0}, {-9.0, -11.0}, {-9.0, -16.0}, {-9.0, -17.0}, {-9.0, -18.0}, {-9.0, -19.0}, {-9.0, -20.0},
        {-10.0, -1.0}, {-10.0, -8.0}, {-10.0, -10.0}, {-10.0, -17.0}, {-10.0, -19.0},
        {-11.0, -1.0}, {-11.0, -2.0}, {-11.0, -3.0}, {-11.0, -4.0}, {-11.0, -5.0}, {-11.0, -6.0}, {-11.0, -7.0}, {-11.0, -8.0}, {-11.0, -9.0}, {-11.0, -10.0}, {-11.0, -11.0}, {-11.0, -12.0}, {-11.0, -13.0}, {-11.0, -14.0}, {-11.0, -15.0}, {-11.0, -16.0}, {-11.0, -17.0}, {-11.0, -18.0}, {-11.0, -19.0},
        {-12.0, -1.0}, {-12.0, -8.0}, {-12.0, -10.0}, {-12.0, -17.0}, {-12.0, -19.0},
        {-13.0, -1.0}, {-13.0, -2.0}, {-13.0, -3.0}, {-13.0, -4.0}, {-13.0, -5.0}, {-13.0, -6.0}, {-13.0, -7.0}, {-13.0, -8.0}, {-13.0, -9.0}, {-13.0, -10.0}, {-13.0, -11.0}, {-13.0, -12.0}, {-13.0, -13.0}, {-13.0, -14.0}, {-13.0, -15.0}, {-13.0, -16.0}, {-13.0, -17.0}, {-13.0, -18.0}, {-13.0, -19.0},
        // 第四象限
        {1.0, -1.0}, {1.0, -2.0}, {1.0, -3.0}, {1.0, -4.0}, {1.0, -5.0}, {1.0, -6.0}, {1.0, -7.0}, {1.0, -8.0}, {1.0, -9.0}, {1.0, -10.0}, {1.0, -11.0}, {1.0, -12.0}, {1.0, -13.0}, {1.0, -14.0}, {1.0, -15.0}, {1.0, -16.0}, {1.0, -17.0}, {1.0, -18.0}, {1.0, -19.0}, {1.0, -20.0},
        {2.0, -1.0}, {2.0, -8.0}, {2.0, -10.0}, {2.0, -17.0}, {2.0, -19.0},
        {3.0, -1.0}, {3.0, -2.0}, {3.0, -7.0}, {3.0, -8.0}, {3.0, -10.0}, {3.0, -11.0}, {3.0, -16.0}, {3.0, -17.0}, {3.0, -18.0}, {3.0, -19.0}, {3.0, -20.0},
        {4.0, -1.0}, {4.0, -8.0}, {4.0, -10.0}, {4.0, -17.0}, {4.0, -19.0},
        {5.0, -1.0}, {5.0, -2.0}, {5.0, -7.0}, {5.0, -8.0}, {5.0, -10.0}, {5.0, -11.0}, {5.0, -16.0}, {5.0, -17.0}, {5.0, -18.0}, {5.0, -19.0}, {5.0, -20.0},
        {6.0, -1.0}, {6.0, -8.0}, {6.0, -10.0}, {6.0, -17.0}, {6.0, -19.0},
        {7.0, -1.0}, {7.0, -2.0}, {7.0, -7.0}, {7.0, -8.0}, {7.0, -10.0}, {7.0, -11.0}, {7.0, -16.0}, {7.0, -17.0}, {7.0, -18.0}, {7.0, -19.0}, {7.0, -20.0},
        {8.0, -1.0}, {8.0, -8.0}, {8.0, -10.0}, {8.0, -17.0}, {8.0, -19.0},
        {9.0, -1.0}, {9.0, -2.0}, {9.0, -7.0}, {9.0, -8.0}, {9.0, -10.0}, {9.0, -11.0}, {9.0, -16.0}, {9.0, -17.0}, {9.0, -18.0}, {9.0, -19.0}, {9.0, -20.0},
        {10.0, -1.0}, {10.0, -8.0}, {10.0, -10.0}, {10.0, -17.0}, {10.0, -19.0},
        {11.0, -1.0}, {11.0, -2.0}, {11.0, -3.0}, {11.0, -4.0}, {11.0, -5.0}, {11.0, -6.0}, {11.0, -7.0}, {11.0, -8.0}, {11.0, -9.0}, {11.0, -10.0}, {11.0, -11.0}, {11.0, -12.0}, {11.0, -13.0}, {11.0, -14.0}, {11.0, -15.0}, {11.0, -16.0}, {11.0, -17.0}, {11.0, -18.0}, {11.0, -19.0},
        {12.0, -1.0}, {12.0, -8.0}, {12.0, -10.0}, {12.0, -17.0}, {12.0, -19.0},
        {13.0, -1.0}, {13.0, -2.0}, {13.0, -3.0}, {13.0, -4.0}, {13.0, -5.0}, {13.0, -6.0}, {13.0, -7.0}, {13.0, -8.0}, {13.0, -9.0}, {13.0, -10.0}, {13.0, -11.0}, {13.0, -12.0}, {13.0, -13.0}, {13.0, -14.0}, {13.0, -15.0}, {13.0, -16.0}, {13.0, -17.0}, {13.0, -18.0}, {13.0, -19.0},
        // 中间位置
        {0, 19}, {0, 18}, {0, 17}, {0, 16}, {0, 15}, {0, 14}, {0, 13}, {0, 12}, {0, 11}, {0, 10}, {0, 9}, {0, 8}, {0, 7}, {0, 6}, {0, 5}, {0, 4}, {0, 3}, {0, 2}, {0, 1}, {0, 0}, {0, -1}, {0, -2}, {0, -3}, {0, -4}, {0, -5}, {0, -6}, {0, -7}, {0, -8}, {0, -9}, {0, -10}, {0, -11}, {0, -12}, {0, -13}, {0, -14}, {0, -15}, {0, -16}, {0, -17}, {0, -18}, {0, -19},
        {12.0, 19.0}, {12.0, 18.0}, {12.0, 17.0}, {12.0, 16.0}, {12.0, 15.0}, {12.0, 14.0}, {12.0, 13.0}, {12.0, 12.0}, {12.0, 11.0}, {12.0, 10.0}, {12.0, 9.0}, {12.0, 8.0}, {12.0, 7.0}, {12.0, 6.0}, {12.0, 5.0}, {12.0, 4.0}, {12.0, 3.0}, {12.0, 2.0}, {12.0, 1.0}, {12.0, 0.0}, {12.0, -1.0}, {12.0, -2.0}, {12.0, -3.0}, {12.0, -4.0}, {12.0, -5.0}, {12.0, -6.0}, {12.0, -7.0}, {12.0, -8.0}, {12.0, -9.0}, {12.0, -10.0}, {12.0, -11.0}, {12.0, -12.0}, {12.0, -13.0}, {12.0, -14.0}, {12.0, -15.0}, {12.0, -16.0}, {12.0, -17.0}, {12.0, -18.0}, {12.0, -19.0},
        {-12, 19}, {-12, 18}, {-12, 17}, {-12, 16}, {-12, 15}, {-12, 14}, {-12, 13}, {-12, 12}, {-12, 11}, {-12, 10}, {-12, 9}, {-12, 8}, {-12, 7}, {-12, 6}, {-12, 5}, {-12, 4}, {-12, 3}, {-12, 2}, {-12, 1}, {-12, 0}, {-12, -1}, {-12, -2}, {-12, -3}, {-12, -4}, {-12, -5}, {-12, -6}, {-12, -7}, {-12, -8}, {-12, -9}, {-12, -10}, {-12, -11}, {-12, -12}, {-12, -13}, {-12, -14}, {-12, -15}, {-12, -16}, {-12, -17}, {-12, -18}, {-12, -19},
        {13.0, 0.0}, {12.0, 0.0}, {11.0, 0.0}, {10.0, 0.0}, {9.0, 0.0}, {8.0, 0.0}, {7.0, 0.0}, {6.0, 0.0}, {5.0, 0.0}, {4.0, 0.0}, {3.0, 0.0}, {2.0, 0.0}, {1.0, 0.0}, {0.0, 0.0}, {-1.0, 0.0}, {-2.0, 0.0}, {-3.0, 0.0}, {-4.0, 0.0}, {-5.0, 0.0}, {-6.0, 0.0}, {-7.0, 0.0}, {-8.0, 0.0}, {-9.0, 0.0}, {-10.0, 0.0}, {-11.0, 0.0}, {-12.0, 0.0}, {-13.0, 0.0},
        {13.0, 9.0},{12.0, 9.0},{11.0, 9.0},{10.0, 9.0},{9.0, 9.0},{8.0, 9.0},{7.0, 9.0},{6.0, 9.0},{5.0, 9.0},{4.0, 9.0},{3.0, 9.0},{2.0, 9.0},{1.0, 9.0},{0.0, 9.0},{-1.0, 9.0},{-2.0, 9.0},{-3.0, 9.0},{-4.0, 9.0},{-5.0, 9.0},{-6.0, 9.0},{-7.0, 9.0},{-8.0, 9.0},{-9.0, 9.0},{-10.0, 9.0},{-11.0, 9.0},{-12.0, 9.0},{-13.0, 9.0},
        {13.0, -9.0},{12.0, -9.0},{11.0, -9.0},{10.0, -9.0},{9.0, -9.0},{8.0, -9.0},{7.0, -9.0},{6.0, -9.0},{5.0, -9.0},{4.0, -9.0},{3.0, -9.0},{2.0, -9.0},{1.0, -9.0},{0.0, -9.0},{-1.0, -9.0},{-2.0, -9.0},{-3.0, -9.0},{-4.0, -9.0},{-5.0, -9.0},{-6.0, -9.0},{-7.0, -9.0},{-8.0, -9.0},{-9.0, -9.0},{-10.0, -9.0},{-11.0, -9.0},{-12.0, -9.0},{-13.0, -9.0},
        {13.0, 18.0}, {12.0, 18.0}, {11.0, 18.0}, {10.0, 18.0}, {9.0, 18.0}, {8.0, 18.0}, {7.0, 18.0}, {6.0, 18.0}, {5.0, 18.0}, {4.0, 18.0}, {3.0, 18.0}, {2.0, 18.0}, {1.0, 18.0}, {0.0, 18.0}, {-1.0, 18.0}, {-2.0, 18.0}, {-3.0, 18.0}, {-4.0, 18.0}, {-5.0, 18.0}, {-6.0, 18.0}, {-7.0, 18.0}, {-8.0, 18.0}, {-9.0, 18.0}, {-10.0, 18.0}, {-11.0, 18.0}, {-12.0, 18.0}, {-13.0, 18.0},
        {13.0, -18.0},{12.0, -18.0},{11.0, -18.0},{10.0, -18.0},{9.0, -18.0},{8.0, -18.0},{7.0, -18.0},{6.0, -18.0},{5.0, -18.0},{4.0, -18.0},{3.0, -18.0},{2.0, -18.0},{1.0, -18.0},{0.0, -18.0},{-1.0, -18.0},{-2.0, -18.0},{-3.0, -18.0},{-4.0, -18.0},{-5.0, -18.0},{-6.0, -18.0},{-7.0, -18.0},{-8.0, -18.0},{-9.0, -18.0},{-10.0, -18.0},{-11.0, -18.0},{-12.0, -18.0},{-13.0, -18.0},
        {1.0, 0.0}, {11.0, 0.0}, {13.0, 0.0},
        {-1.0, 0.0}, {-11.0, 0.0}, {-13.0, 0.0},
        {0.0, 1.0}, {0.0, 8.0}, {0.0, 10.0}, {0.0, 17.0}, {0.0, 19.0},
        {0.0, -1.0}, {0.0, -8.0}, {0.0, -10.0}, {0.0, -17.0}, {0.0, -19.0}
    };

    std::vector<Point> task_points_ = {
        {3.0, 3.0}, {3.0, 6.0}, {3.0, 12.0}, {3.0, 15.0},
        {5.0, 3.0}, {5.0, 6.0}, {5.0, 12.0}, {5.0, 15.0},
        {7.0, 3.0}, {7.0, 6.0}, {7.0, 12.0}, {7.0, 15.0},
        {9.0, 3.0}, {9.0, 6.0}, {9.0, 12.0}, {9.0, 15.0},
        {-3.0, 3.0}, {-3.0, 6.0}, {-3.0, 12.0}, {-3.0, 15.0},
        {-5.0, 3.0}, {-5.0, 6.0}, {-5.0, 12.0}, {-5.0, 15.0},
        {-7.0, 3.0}, {-7.0, 6.0}, {-7.0, 12.0}, {-7.0, 15.0},
        {-9.0, 3.0}, {-9.0, 6.0}, {-9.0, 12.0}, {-9.0, 15.0},
        {3.0, -3.0}, {3.0, -6.0}, {3.0, -12.0}, {3.0, -15.0},
        {5.0, -3.0}, {5.0, -6.0}, {5.0, -12.0}, {5.0, -15.0},
        {7.0, -3.0}, {7.0, -6.0}, {7.0, -12.0}, {7.0, -15.0},
        {9.0, -3.0}, {9.0, -6.0}, {9.0, -12.0}, {9.0, -15.0},
        {-3.0, -3.0}, {-3.0, -6.0}, {-3.0, -12.0}, {-3.0, -15.0},
        {-5.0, -3.0}, {-5.0, -6.0}, {-5.0, -12.0}, {-5.0, -15.0},
        {-7.0, -3.0}, {-7.0, -6.0}, {-7.0, -12.0}, {-7.0, -15.0},
        {-9.0, -3.0}, {-9.0, -6.0}, {-9.0, -12.0}, {-9.0, -15.0}
    };

    std::vector<Point> wait_points_ = {
        {1.0, 21.0}, {3.0, 21.0}, {5.0, 21.0}, {7.0, 21.0}, {9.0, 21.0},
        {-1.0, 21.0}, {-3.0, 21.0}, {-5.0, 21.0}, {-7.0, 21.0}, {-9.0, 21.0},
        {1.0, -21.0}, {3.0, -21.0}, {5.0, -21.0}, {7.0, -21.0}, {9.0, -21.0},
        {-1.0, -21.0}, {-3.0, -21.0}, {-5.0, -21.0}, {-7.0, -21.0}, {-9.0, -21.0}
    };

    void init_free_points() {
        free_points_.clear();
        for (size_t i = 0; i < path_points_.size(); i++) {
            free_points_.push_back(path_points_[i]);
        }
        for (size_t i = 0; i < task_points_.size(); i++) {
            free_points_.push_back(task_points_[i]);
        }
        for (size_t i = 0; i < wait_points_.size(); i++) {
            free_points_.push_back(wait_points_[i]);
        }
        spdlog::info("Total free points: {}", free_points_.size());
    }
};
}  // namespace amr_path_planning
#endif  // AMR_PATH_PLANNING__AMR_PATH_PLANNING_HPP_
